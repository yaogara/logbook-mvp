@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Support for iOS + Android edge-to-edge */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
}

/* Ensure full viewport height and width */
html, body, #root {
  margin: 0;
  padding: 0;
  width: 100%;
  min-height: 100vh;
  overflow-x: hidden;
  padding-top: var(--safe-area-inset-top);
  padding-bottom: var(--safe-area-inset-bottom);
  background-color: #2c0a71; /* Match your app's theme color */
}

/* For iOS PWA fullscreen */
@supports (-webkit-touch-callout: none) {
  html, body {
    /* Allow scrolling on iOS */
    height: auto;
    min-height: 100%;
    -webkit-overflow-scrolling: touch;
  }
}

/* Ensure the root element can scroll if content overflows */
#root {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

@layer base {
  :root {
    /* Earthy theme - light sage background with warm accents */
    --bg: 225 235 230; /* Light sage #E1EBE6 */
    --bg-gradient-from: 225 235 230; /* light sage */
    --bg-gradient-to: 210 225 218; /* slightly darker sage */
    --fg: 30 40 35; /* Dark forest text #1E2823 */
    --muted: 90 100 95; /* Medium grey-green #5A645F */
    --primary: 203 108 62; /* Terracotta #CB6C3E */
    --primary-600: 180 88 48; /* Darker terracotta #B45830 */
    --primary-700: 156 72 38; /* Deep terracotta #9C4826 */
    --ring: 223 138 92; /* Light terracotta #DF8A5C */
    --card: 245 250 248; /* Off-white card #F5FAF8 */
    --card-hover: 235 245 240; /* Light hover #EBF5F0 */
    --border: 200 215 208; /* Soft sage border #C8D7D0 */
    --input-bg: 255 255 255; /* White inputs #FFFFFF */
  }

  .dark {
    /* Darker earthy theme for dark mode */
    --bg: 18 32 27; /* Deeper forest #12201B */
    --bg-gradient-from: 18 32 27;
    --bg-gradient-to: 24 44 37; /* forest green */
    --fg: 250 247 239; /* Warm cream */
    --muted: 148 142 120; /* Muted tan #948E78 */
    --primary: 203 108 62; /* Terracotta */
    --primary-600: 180 88 48;
    --primary-700: 156 72 38;
    --ring: 223 138 92;
    --card: 34 54 46; /* Dark sage #22362E */
    --card-hover: 45 68 58; /* Sage green */
    --border: 55 82 70; /* Dark olive */
    --input-bg: 24 40 34; /* Very dark olive #182822 */
  }

  html, body, #root {
    @apply h-full;
  }

  body {
    @apply antialiased text-[rgb(var(--fg))] bg-[rgb(var(--bg))];
  }
}

@layer components {
  .card {
    @apply rounded-2xl border border-[rgb(var(--border))] bg-[rgb(var(--card))] shadow-sm hover:bg-[rgb(var(--card-hover))] transition;
  }
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-[rgb(var(--ring))];
  }
  .btn-primary {
    @apply btn bg-[rgb(var(--primary))] text-white shadow-lg shadow-[rgb(var(--primary))]/20 hover:bg-[rgb(var(--primary-600))];
  }
  .btn-ghost {
    @apply btn bg-white/10 text-[rgb(var(--fg))] hover:bg-white/20;
  }
  .btn-muted {
    @apply btn bg-[rgb(var(--card))] text-[rgb(var(--fg))] hover:bg-[rgb(var(--card-hover))];
  }
  .badge {
    @apply inline-flex items-center gap-1.5 text-xs px-2 py-1 rounded-full;
  }
  .input {
    @apply w-full rounded-2xl border border-[rgb(var(--border))] bg-[rgb(var(--input-bg))] px-4 py-2.5 text-sm text-[rgb(var(--fg))] transition focus:border-[rgb(var(--primary))] focus:ring-2 focus:ring-[rgb(var(--ring))] focus:outline-none;
  }
}
