@tailwind base;
@tailwind components;
@tailwind utilities;

/* Safe area variables */
:root {
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

/* Fullscreen, stable PWA layout */
html, body, #root {
  margin: 0;
  padding: 0;
  width: 100%;
  min-height: 100dvh;          /* ✔ correct for Android PWAs */
  overflow-x: hidden;
  background: rgb(var(--bg));  /* ✔ theme-based */
}

/* iOS fullscreen behavior */
@supports (-webkit-touch-callout: none) {
  html, body {
    min-height: 100%;
    height: auto;
    -webkit-overflow-scrolling: touch;
  }
}

/* Root container */
#root {
  display: flex;
  flex-direction: column;
  min-height: 100dvh;  /* ✔ ensures full-height container */
  padding-top: var(--safe-top);      /* apply once */
  padding-bottom: var(--safe-bottom);
}

@layer base {
  :root {
    --bg: 225 235 230;
    --bg-gradient-from: 225 235 230;
    --bg-gradient-to: 210 225 218;
    --fg: 30 40 35;
    --muted: 90 100 95;
    --primary: 203 108 62;
    --primary-600: 180 88 48;
    --primary-700: 156 72 38;
    --ring: 223 138 92;
    --card: 245 250 248;
    --card-hover: 235 245 240;
    --border: 200 215 208;
    --input-bg: 255 255 255;
  }

  .dark {
    --bg: 18 32 27;
    --bg-gradient-from: 18 32 27;
    --bg-gradient-to: 24 44 37;
    --fg: 250 247 239;
    --muted: 148 142 120;
    --primary: 203 108 62;
    --primary-600: 180 88 48;
    --primary-700: 156 72 38;
    --ring: 223 138 92;
    --card: 34 54 46;
    --card-hover: 45 68 58;
    --border: 55 82 70;
    --input-bg: 24 40 34;
  }

  body {
    @apply antialiased text-[rgb(var(--fg))] bg-[rgb(var(--bg))];
  }
}

@layer components {
  .card {
    @apply rounded-2xl border border-[rgb(var(--border))] bg-[rgb(var(--card))] shadow-sm hover:bg-[rgb(var(--card-hover))] transition;
  }
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-[rgb(var(--ring))];
  }
  .btn-primary {
    @apply btn bg-[rgb(var(--primary))] text-white shadow-lg shadow-[rgb(var(--primary))]/20 hover:bg-[rgb(var(--primary-600))];
  }
  .btn-ghost {
    @apply btn bg-white/10 text-[rgb(var(--fg))] hover:bg-white/20;
  }
  .btn-muted {
    @apply btn bg-[rgb(var(--card))] text-[rgb(var(--fg))] hover:bg-[rgb(var(--card-hover))];
  }
  .badge {
    @apply inline-flex items-center gap-1.5 text-xs px-2 py-1 rounded-full;
  }
  .input {
    @apply w-full rounded-2xl border border-[rgb(var(--border))] bg-[rgb(var(--input-bg))] px-4 py-2.5 text-sm text-[rgb(var(--fg))] transition focus:border-[rgb(var(--primary))] focus:ring-2 focus:ring-[rgb(var(--ring))] focus:outline-none;
  }
}